---
title: NLP at Meedan
layout: post
author: clarissa
---

This is the first of a series of posts about NLP (Natural Language Processing) work at Meedan. Meedan's NLP research and development focuses on solutions for adding value to our company's key products Check and Bridge: a real time news verifier and a collaborative social media translator, respectively.

The NLP tools developed at Meedan are gathered in an API called [Alegre] (https://github.com/meedan/alegre). Currently Alegre has the following features: Language Identifier, Translation Memory, Glossary and Dictionary. A Word Suggestion feature will be released at the end of 2016.
We are particularly interested in develop solutions that are able to run in a large range of languages, including long-tail ones, that scale well and run efficiently. In order to achieve these goals, the Translation Memory, Glossary and Dictionary features are implemented using Elasticsearch, an open source, distributed search engine. This tool provide us the performance and scalability we need. Also, it works with a large amount of languages, having the “default” analyzer that can be used to deal with information in long tail languages.

Alegre works with an unique [Elasticsearch] (https://www.elastic.co/products/elasticsearch) schema and one type per feature (Dictionary, Glossary and Translation Memory). All types share the same concept: each term is stored in a field named with the ISO 639 language, that uses the language ES analyzer or the default analyzer if this language does not have its own analyzer, like small-communities dialects, and a context field where we can add any valuable information like project, user, source or geolocation.

The important thing is that the context information can be changed according the necessity of each project and Elasticsearch give us the power of searching with high performance on it, even if it does not have fixed information. Below we present an excerpt of the Glossary schema as example:

~~~~
{
  "glossary_mlg": {
    "mappings": {
      "glossary": {
        "properties": {
          "ar": {
            "type": "string",
            "analyzer": "arabic"
          },
          "es": {
            "type": "string",
            "analyzer": "spanish"
          },
          ...
          "context": {
            "properties": {
                "project": {"type": "string"},
                "user": {"type": "string"}
            }
          }

        }
      }
    }
  }
}
~~~~

Next, we can see a Translation Memory document example, following the same type design.
~~~~
{
         {
            "_index": "glossary_mlg",
            "_type": "translationMemory",
            "_id": "AVc0HS8lNHOnL_ufSvRr",
            "_source": {
               "en": "one car",
               "pt": "um carro",
               "context": {
                  "provider": "translation",
                  "project": "bridge",
                  "user": "ccx"
               }
            }
         }
}
~~~~

And here a query searching for *one car* **(1)** pair in *Portuguese* **(2)** from the *translation provider* (context information) **(3)**.
~~~~
POST glossary_mlg/translationMemory/_search?pretty=true
{
      "query": {
          "bool": {
              "must": [{
                  "match_phrase": {
                      "en": "one car" (1)
                      }
                },
                {
                  "match": {
                      "context.provider": "translation" (3)
                      }
                }],
                "filter": {
                  "exists" : { "field" : "pt" } (2)
              }                                    
          }              
      }
}
~~~~

In the next post we are going to present Alegre's Language Identification feature.  
